{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/main/main.css' %}">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700&display=swap" rel="stylesheet">
</head>
{% endblock %}

{% block content %}
<section id="mid-body" class="container mid">
	<!-- 1행: 텍스트 | 이미지 -->
	<div class="mid__row">
		<div class="mid__text">
			<h2>사용자 추천 기능</h2>
			<p>사용자를 자동 분석하여 개인화 추천을 제공합니다.</p>
			<a class="btn tiny" href="#">알아보기</a>
		</div>
		<figure class="mid__media">
			<img src="images/card-1.jpg" alt="추천 기능 이미지">
		</figure>
	</div>
    <section class="recommendation-area">
        <h3>✨ 회원님을 위한 추천 활동</h3>

        {% if recommended_posts %}
            <div class="recommendation-grid">
                {% for post in recommended_posts %}
                    <div class="post-card">
                        <h4>{{ post.name }}</h4>
                        <p>{{ post.description|truncatechars:100 }}</p>
                        <p><strong>활동 타입:</strong> {{ post.get_type_display }}</p>
                        <div class="post-meta">
                            <span>**모집 분야:** {{ post.recruitment_fields }}</span>
                            <span>**지원 기간:** {{ post.get_application_months_display }}</span>
                            <span>**활동 기간:** {{ post.get_activity_months_display }}</span>
                        </div>
                        <a href="{% url 'posts:posts_detail' post.pk %}" class="btn btn-sm btn-secondary" style="margin-top: 10px;">자세히 보기</a>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            {% if nickname %}
                <p>현재 회원님의 관심사와 일치하는 추천 게시글이 없습니다. 모든 게시글을 탐색해 보세요!</p>
            {% else %}
                <p>로그인하여 맞춤 추천 게시글을 확인해 보세요.</p>
            {% endif %}
        {% endif %}
    </section>

	<!-- 2행: 이미지 | 텍스트 -->
	<div class="mid__row reverse">
		<figure class="mid__media">
			<img src="images/card-2.jpg" alt="IT 동아리 활동">
		</figure>
		<div class="mid__text">
			<h3>IT 관련 동아리 활동</h3>
			<p>활동 소개와 참가 정보를 한눈에.</p>
			<a class="btn tiny" href="/posts/type/club/">자세히</a>
		</div>
	</div>

	<!-- 3행: 텍스트 | 이미지 -->
	<div class="mid__row">
		<div class="mid__text">
			<h3>대외활동</h3>
			<p>집중 커리큘럼으로 실무 역량을 키워보세요.</p>
			<a class="btn tiny" href="/posts/type/bootcamp/">신청하기</a>
		</div>
		<figure class="mid__media">
			<img src="images/card-3.jpg" alt="부트캠프 이미지">
		</figure>
	</div>

	<!-- 4행: 이미지 | 텍스트 -->
	<div class="mid__row reverse">
		<figure class="mid__media">
			<img src="images/card-4.jpg" alt="부트캠프 이미지">
		</figure>
		<div class="mid__text">
			<h3>부트캠프</h3>
			<p>정부 지원으로 부담을 낮춘 교육 과정.</p>
			<a class="btn tiny" href="#">확인하기</a>
		</div>
	</div>
</section>
{% endblock %}


{% block extra_js %}
<script src="{% static 'js/main/main.js' %}"></script>
{% endblock %}
