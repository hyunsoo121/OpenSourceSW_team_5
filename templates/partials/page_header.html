{% load static %}
<link rel="stylesheet" href="{% static 'css/partials/page_header.css' %}">
<div class="page-header-container">
    <div class="header-top">
        <div class="header-logo">
            <h1><a href="{% url 'home' %}">ITformation</a></h1>
            <p>IT 관련 모든 정보를 제공합니다.</p>
        </div>
        <div class="header-buttons">
            {% if user.is_authenticated %}
                <a href="{% url 'edit_profile' %}" class="btn-detail btn-detail-light">마이페이지</a>
                <a href="{% url 'admin_request:request_list' %}" class="btn-detail btn-detail-light">관리자 요청</a>
                <a href="{% url 'logout' %}" class="btn-detail btn-detail-dark">로그아웃</a>
            {% else %}
                <a href="{% url 'login' %}" class="btn-detail btn-detail-dark">로그인</a>
            {% endif %}
        </div>
    </div>
    <!-- <hr class="dotted-divider"> -->

    <!-- 햄버거 메뉴 버튼 (모바일) -->
    <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="메뉴 열기">
        <span></span>
        <span></span>
        <span></span>
    </button>

    <nav class="main-navigation" id="mainNavigation">
        <a href="{% url 'recommend' %}">사용자 추천</a>
        <!-- <a href="{% url 'posts:posts_list' %}">전체 활동</a> -->
        <a href="/posts/type/club">IT 동아리</a>
        <a href="/posts/type/external">대외활동</a>
        <a href="/posts/type/bootcamp">부트캠프</a>
        <!-- <a href="/posts/type/server">기타</a> -->
    </nav>
</div>

<script>
// 햄버거 메뉴 토글
document.addEventListener('DOMContentLoaded', function() {
    const menuToggle = document.getElementById('mobileMenuToggle');
    const navigation = document.getElementById('mainNavigation');

    if (menuToggle && navigation) {
        menuToggle.addEventListener('click', function() {
            this.classList.toggle('active');
            navigation.classList.toggle('active');
        });

        // 메뉴 항목 클릭 시 메뉴 닫기
        const menuLinks = navigation.querySelectorAll('a');
        menuLinks.forEach(link => {
            link.addEventListener('click', function() {
                menuToggle.classList.remove('active');
                navigation.classList.remove('active');
            });
        });

        // 외부 클릭 시 메뉴 닫기
        document.addEventListener('click', function(event) {
            if (!menuToggle.contains(event.target) && !navigation.contains(event.target)) {
                menuToggle.classList.remove('active');
                navigation.classList.remove('active');
            }
        });
    }
});
</script>
